function SlidingCanvas(a,b){this.$element=a,this.options=$.extend({},SlidingCanvas.defaults,this.$element.data(),b),this.$lastTrigger=$(),this._init(),this._events()}function Traverse(a,b){this.$element=a,this.options=$.extend({},Traverse.defaults,this.$element.data(),b),this._init()}SlidingCanvas.defaults={closeOnClick:!0,transitionTime:0,position:"left",forceTop:!0,isRevealed:!1,revealOn:null,autoFocus:!0,revealClass:"reveal-for-",trapFocus:!1},SlidingCanvas.prototype._init=function(){var a=this.$element.attr("id");if(this.$element.attr("aria-hidden","true"),$(document).find('[data-open="'+a+'"], [data-close="'+a+'"], [data-toggle="'+a+'"]').attr("aria-expanded","false").attr("aria-controls",a),this.options.closeOnClick)if($(".js-off-canvas-exit").length)this.$exiter=$(".js-off-canvas-exit");else{var b=document.createElement("div");b.setAttribute("class","js-off-canvas-exit"),$("[data-off-canvas-content]").append(b),this.$exiter=$(b)}this.options.isRevealed=this.options.isRevealed||new RegExp(this.options.revealClass,"g").test(this.$element[0].className),this.options.isRevealed&&(this.options.revealOn=this.options.revealOn||this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split("-")[2],this._setMQChecker()),this.options.transitionTime||(this.options.transitionTime=1e3*parseFloat(window.getComputedStyle($("[data-off-canvas-wrapper]")[0]).transitionDuration))},SlidingCanvas.prototype._events=function(){if(this.$element.off(".zf.trigger .zf.offcanvas").on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"keydown.zf.offcanvas":this._handleKeyboard.bind(this)}),this.$exiter.length){this.$exiter.on({"click.zf.offcanvas":this.close.bind(this)})}},SlidingCanvas.prototype._setMQChecker=function(){},SlidingCanvas.prototype.reveal=function(a){var b=this.$element.find("[data-close]");a?(this.close(),this.isRevealed=!0,this.$element.off("open.zf.trigger toggle.zf.trigger"),b.length&&b.hide()):(this.isRevealed=!1,this.$element.on({"open.zf.trigger":this.open.bind(this),"toggle.zf.trigger":this.toggle.bind(this)}),b.length&&b.show())},SlidingCanvas.prototype.open=function(a,b){if(!this.$element.hasClass("is-open")&&!this.isRevealed){var c=this;$(document.body);Foundation.Move(this.options.transitionTime,this.$element,function(){$("[data-off-canvas-wrapper]").addClass("is-off-canvas-open is-open-"+c.options.position),c.$element.addClass("is-open")}),this.$element.attr("aria-hidden","false").trigger("opened.zf.offcanvas"),b&&(this.$lastTrigger=b.attr("aria-expanded","true")),this.options.autoFocus&&this.$element.one("finished.zf.animate",function(){c.$element.find("a, button").eq(0).focus()}),this.options.trapFocus&&($("[data-off-canvas-content]").attr("tabindex","-1"),this._trapFocus())}},SlidingCanvas.prototype._trapFocus=function(){var a=Foundation.Keyboard.findFocusable(this.$element),b=a.eq(0),c=a.eq(-1);a.off(".zf.offcanvas").on("keydown.zf.offcanvas",function(a){(9===a.which||9===a.keycode)&&(a.target!==c[0]||a.shiftKey||(a.preventDefault(),b.focus()),a.target===b[0]&&a.shiftKey&&(a.preventDefault(),c.focus()))})},SlidingCanvas.prototype.close=function(a){if(this.$element.hasClass("is-open")&&!this.isRevealed){var b=this;$("[data-off-canvas-wrapper]").removeClass("is-off-canvas-open is-open-"+b.options.position),b.$element.removeClass("is-open"),this.$element.attr("aria-hidden","true").trigger("closed.zf.offcanvas"),this.$lastTrigger.attr("aria-expanded","false"),this.options.trapFocus&&$("[data-off-canvas-content]").removeAttr("tabindex")}},SlidingCanvas.prototype.toggle=function(a,b){this.$element.hasClass("is-open")?this.close(a,b):this.open(a,b)},SlidingCanvas.prototype._handleKeyboard=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.close(),this.$lastTrigger.focus())},SlidingCanvas.prototype.destroy=function(){this.close(),this.$element.off(".zf.trigger .zf.offcanvas"),this.$exiter.off(".zf.offcanvas")},$(function(){var a=$("#sidebar");if(a.length){var b=($("#docs"),a.find("nav"));new Traverse(b,{threshold:10,barOffset:a.position().top});b.on("update.traverse",function(a,c){b.find("section").removeClass("expand");var d=c.parents("section:first");d.length&&d.addClass("expand")});var c=$(".drawer-layout"),d=c.find(".drawer"),e=function(){return d.removeClass("slide-right slide-left"),d.find(".drawer-overlay").remove(),c.removeClass("drawer-open drawer-slide-left-large drawer-slide-right-large"),!1};c.find("[data-drawer-slide]").click(function(a){var b=$(this),f=b.data("drawer-slide");c.addClass("drawer-open"),d.addClass("slide-"+f);var g=$('<a href="#" class="drawer-overlay"></a>');return d.append(g),g.click(e),!1}),c.find("[data-drawer-close]").click(e)}}),Traverse.defaults={animationDuration:500,animationEasing:"linear",threshold:50,activeClass:"active",deepLinking:!1,barOffset:0},Traverse.prototype._init=function(){var a=this.$element[0].id;this.$targets=$("[data-traverse-target]"),this.$links=this.$element.find("a"),this.$element.attr({"data-resize":a,"data-scroll":a,id:a}),this.$active=$(),this.scrollPos=parseInt(window.pageYOffset,10),this._events()},Traverse.prototype.calcPoints=function(){var a=this,b=document.body,c=document.documentElement;this.points=[],this.winHeight=Math.round(Math.max(window.innerHeight,c.clientHeight)),this.docHeight=Math.round(Math.max(b.scrollHeight,b.offsetHeight,c.clientHeight,c.scrollHeight,c.offsetHeight)),this.$targets.each(function(){var b=$(this),c=b.offset().top;b.targetPoint=c,a.points.push(c)})},Traverse.prototype._events=function(){var a=this,b=$("html, body"),c={duration:a.options.animationDuration,easing:a.options.animationEasing};$(window).one("load",function(){a.calcPoints(),a._updateActive(),$(this).resize(function(b){a.reflow()}).scroll(function(b){a._updateActive()})}),this.$element.on("click",'a[href^="#"]',function(d){d.preventDefault();var e=this.getAttribute("href"),f=$(e).offset().top-a.options.barOffset;b.stop(!0).animate({scrollTop:f},c)})},Traverse.prototype.reflow=function(){this.calcPoints(),this._updateActive()},Traverse.prototype._updateActive=function(){var a,b=parseInt(window.pageYOffset,10);if(b+this.winHeight===this.docHeight)a=this.points.length-1;else if(b<this.points[0])a=0;else{var c=this.scrollPos<b,d=this,e=this.points.filter(function(a,e){return c?a<=b+d.options.barOffset+d.options.threshold:a-(d.options.barOffset+d.options.threshold)<=b});a=e.length?e.length-1:0}var f=this.$active,g=this.$links.eq(a);if(this.$active.removeClass(this.options.activeClass),this.$active=g.addClass(this.options.activeClass),this.options.deepLinking){var h=this.$active[0].getAttribute("href");window.history.pushState?window.history.pushState(null,null,h):window.location.hash=h}this.scrollPos=b;var i=f[0]!==g[0];i&&this.$element.trigger("update.traverse",[this.$active])};